var f=Object.defineProperty;var h=(r,e,o)=>e in r?f(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o;var t=(r,e,o)=>(h(r,typeof e!="symbol"?e+"":e,o),o);import{DEFAULT_NAMESPACE as y}from"@paramountric/graph";var E={id:"master",name:"Board",timing:0,slideDuration:1e3,transitionDuration:0,transitionEasing:"linear"},u={projectNode:{key:"project",name:{name:"Project"},type:"Project",namespace:y,appearance:E},insights:[]};function b(r,e,o){o[r]=o[r]||[],o[r].indexOf(e)<0&&o[r].push(e)}function c(r,e,o){if(o[r]){let n=o[r].indexOf(e);n>=0&&o[r].splice(n,1)}}var a=class{constructor(){t(this,"_listeners",{});t(this,"_onceListeners",{})}on(e,o){b(e,o,this._listeners)}once(e,o){b(e,o,this._onceListeners)}off(e,o){c(e,o,this._listeners),c(e,o,this._onceListeners)}emit(e,o){var p,d;let n;typeof e=="string"?n={type:e}:n=e;let i=n.type;if(!this._listens(i))return;o&&(n.data=o);let m=((p=this._listeners[i])==null?void 0:p.slice())||[];for(let s of m)s.call(this,n);let g=((d=this._onceListeners[i])==null?void 0:d.slice())||[];for(let s of g)c(i,s,this._onceListeners),s.call(this,n)}_listens(e){return this._listeners[e]&&this._listeners[e].length>0||this._onceListeners[e]&&this._onceListeners[e].length>0}};import{Node as le}from"@paramountric/graph";import{Node as U,NODE_TYPE_TYPE as J,getEdgeId as ee}from"@paramountric/graph";import{OrbitView as Ee}from"@deck.gl/core/typed";import{ScenegraphLayer as ne}from"@deck.gl/mesh-layers/typed";var P=!0;var l=class extends a{constructor(o){super();t(this,"props");t(this,"deck");t(this,"canvas");t(this,"nodeViewLayouts",{});t(this,"nodes",new Map);t(this,"projectNode");t(this,"timeline");t(this,"interactionManager");t(this,"interactionMode","panning");t(this,"shouldAnimate",!1);t(this,"videoCapture");t(this,"presenting",!1);t(this,"cubeCache",new Map);t(this,"selectedVersionUriCache",[]);t(this,"blob");t(this,"mimeType","image/png");t(this,"quality",1);let{interactionMode:n,debug:i,projectNode:m,presenting:g,...p}=o,{projectNode:d,...s}=u,L=Object.assign({width:window.innerWidth,height:window.innerHeight},s,p,{onError:N=>{o.onContextLost&&o.onContextLost(N)},getTooltip:null,debug:P||i||!1})}};export{l as NodeViewer};
//# sourceMappingURL=index.js.map